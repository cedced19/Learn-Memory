<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title>Learn Memory | UnCSS</title>
        <link href="//cedced19.github.io/img/favicon.ico" rel="shortcut icon" type="image/x-icon">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="/vendor/css/main.css">
        <link rel="stylesheet" href="/vendor/css/bootstrap.css">
    </head>
<body>
 <div class="container">
 <!-- Navigation -->
<ul class="nav nav-pills">
                <li class="active"><a href="#">List</a></li>
                <li><a href="#/creation"><span class="glyphicon glyphicon-edit"></span> Create</a></li>
</ul>
                <!-- List -->
                <input ng-model="search" type="text" class="form-control" placeholder="Search">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Substance</th>
                            <th>Content</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in items | filter:search | orderBy:'updatedAt':true" ng-click="goItem(item)">
                          <td>{{item.substance}}</td>
                          <td>{{removeHtml(item.content) | limitTo : 20}} ...</td>
                          <td>{{item.updatedAt | date: 'dd/MM/yyyy' }}</td>
                       </tr>
                    </tbody>
                </table>
                <!-- Lesson -->
                <div class="well">
                <p><label>Substance: </label> {{currentItem.substance}}</p>
                <p><label>Date: </label> {{currentItem.updatedAt | date: 'dd/MM/yyyy' }}</p>
                <p>
                <span ng-click="waitConfirm = true" ng-show="!waitConfirm" class="glyphicon glyphicon-trash"></span>
                <span ng-click="removeLesson()" ng-show="waitConfirm" class="glyphicon glyphicon-ok"></span>
                </p>
                <p><span ng-show="!edit" class="glyphicon glyphicon-pencil" ng-click="edit = true"></span></p>
                </div>
                <div ng-show="edit"class="input-group">
                        <textarea rows="20" class="form-control" placeholder="Text" ng-model="currentItem.markdown" ng-keyup="displayPreview()"></textarea>
                </div>
                <div ng-bind-html="currentItem.content"></div>
                <div ng-show="edit" class="text-center">
                        <button class="btn btn-success" ng-click="displayLesson()">Update item</button>
                </div>
                <!-- Creation -->
                <form name="formCreation">
                    <div class="input-group">
                        <input type="text" class="form-control"  ng-disabled placeholder="Substance" ng-model="newItem.substance">
                    </div>
                    <div class="input-group">
                        <textarea rows="20" class="form-control" ng-disabled placeholder="Text" ng-model="newItem.markdown" ng-keyup="displayPreview()"></textarea>
                    </div>
                    <div ng-bind-html="newItem.content"></div>
                    <div class="text-center">
                        <button class="btn btn-success" ng-disabled="formCreation.$pristine" ng-click="displayLesson()">Adding new item</button>
                    </div>
                </form>
    </div>
</body>
</html>